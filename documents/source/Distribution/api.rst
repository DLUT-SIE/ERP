.. _Distribution_API:

经销模块-API
===============
.. role: get
.. role: post
.. role: patch
.. role: delete
.. role: code

产品
------

list
^^^^^^^
    返回产品信息列表

    :get:`GET` :code:`/api/products/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    ------------------- ----------- ----------------------------
    related(Optional)   int         相关部门id
    =================== =========== ============================


    ================================ =========== ============================
    返回字段                            返回类型    描述
    -------------------------------- ----------- ----------------------------
    id                                  int         产品id
    -------------------------------- ----------- ----------------------------
    name                                str         名称
    -------------------------------- ----------- ----------------------------
    documents_from_distribution         dict        来自经销部门的文件
    -------------------------------- ----------- ----------------------------
    documents_to_distribution           dict        经销部门发出的文件
    ================================ =========== ============================

read
^^^^^^^^^
    返回指定id的产品信息

    :get:`GET` :code:`/api/products/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    ================================ =========== ============================
    返回字段                            返回类型    描述
    -------------------------------- ----------- ----------------------------
    id                                  int         产品id
    -------------------------------- ----------- ----------------------------
    name                                str         名称
    -------------------------------- ----------- ----------------------------
    status                              int         状态
    -------------------------------- ----------- ----------------------------
    pretty_status                       str         状态中文表述
    -------------------------------- ----------- ----------------------------
    terminated                          bool        终止状态
    -------------------------------- ----------- ----------------------------
    documents_from_distribution         dict        来自经销部门的文件
    -------------------------------- ----------- ----------------------------
    documents_to_distribution           dict        经销部门发出的文件
    ================================ =========== ============================

partial_update
^^^^^^^^^^^^^^^^
    更新指定id的产品, 返回更新后的产品

    :patch:`PATCH` :code:`/api/products/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         产品id
    =================== =========== ============================


    ================================ =========== ============================
    返回字段                            返回类型    描述
    -------------------------------- ----------- ----------------------------
    id                                  int         产品id
    -------------------------------- ----------- ----------------------------
    name                                str         名称
    -------------------------------- ----------- ----------------------------
    status                              int         状态
    -------------------------------- ----------- ----------------------------
    pretty_status                       str         状态中文表述
    -------------------------------- ----------- ----------------------------
    terminated                          bool        终止状态
    -------------------------------- ----------- ----------------------------
    documents_from_distribution         dict        来自经销部门的文件
    -------------------------------- ----------- ----------------------------
    documents_to_distribution           dict        经销部门发出的文件
    ================================ =========== ============================

create
^^^^^^^^
    创建新的产品

    :post:`POST` :code:`/api/products/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    name                str         名称
    =================== =========== ============================


    ================================ =========== ============================
    返回字段                            返回类型    描述
    -------------------------------- ----------- ----------------------------
    id                                  int         产品id
    -------------------------------- ----------- ----------------------------
    name                                str         名称
    -------------------------------- ----------- ----------------------------
    status                              int         状态
    -------------------------------- ----------- ----------------------------
    pretty_status                       str         状态中文表述
    -------------------------------- ----------- ----------------------------
    terminated                          bool        终止状态
    -------------------------------- ----------- ----------------------------
    documents_from_distribution         dict        来自经销部门的文件
    -------------------------------- ----------- ----------------------------
    documents_to_distribution           dict        经销部门发出的文件
    ================================ =========== ============================

招标文件
---------

list
^^^^^^^
    返回招标文件列表

    :get:`GET` :code:`/api/bidding_documents/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         招标文件id
    ------------------- ----------- ----------------------------
    path                str         路径
    ------------------- ----------- ----------------------------
    name                str         文件名
    ------------------- ----------- ----------------------------
    pretty_status       str         状态中文表述
    =================== =========== ============================

read
^^^^^^^
    返回指定id的招标文件信息

    :get:`GET` :code:`/api/bidding_documents/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         招标文件的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         招标文件id
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    src                 int         来源部门id
    ------------------- ----------- ----------------------------
    dst                 int         接收部门id
    ------------------- ----------- ----------------------------
    path                str         路径
    ------------------- ----------- ----------------------------
    name                str         文件名
    ------------------- ----------- ----------------------------
    upload_dt           str         上传时间
    ------------------- ----------- ----------------------------
    status              int         状态
    ------------------- ----------- ----------------------------
    pretty_status       str         状态中文表述
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^^
    更新指定id的招标文件信息, 返回更新后的信息

    :patch:`PATCH` :code:`/api/bidding_documents/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         招标文件的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         招标文件id
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    src                 int         来源部门id
    ------------------- ----------- ----------------------------
    dst                 int         接收部门id
    ------------------- ----------- ----------------------------
    path                str         路径
    ------------------- ----------- ----------------------------
    name                str         文件名
    ------------------- ----------- ----------------------------
    upload_dt           str         上传时间
    ------------------- ----------- ----------------------------
    status              int         状态
    ------------------- ----------- ----------------------------
    pretty_status       str         状态中文表述
    =================== =========== ============================

create
^^^^^^^^
    创建新的招标文件

    :post:`POST` :code:`/api/bidding_documents/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    src                 int         来源部门id
    ------------------- ----------- ----------------------------
    dst                 int         接收部门id
    ------------------- ----------- ----------------------------
    path                file        文件对象
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         招标文件id
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    src                 int         来源部门id
    ------------------- ----------- ----------------------------
    dst                 int         接收部门id
    ------------------- ----------- ----------------------------
    path                str         路径
    ------------------- ----------- ----------------------------
    name                str         文件名
    ------------------- ----------- ----------------------------
    upload_dt           str         上传时间
    ------------------- ----------- ----------------------------
    status              int         状态
    ------------------- ----------- ----------------------------
    pretty_status       str         状态中文表述
    =================== =========== ============================
