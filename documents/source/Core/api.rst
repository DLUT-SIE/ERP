.. _Core_API:

核心模块-API
==============
.. role:: get
.. role:: post 
.. role:: patch
.. role:: delete
.. role:: code

用户信息
---------

list
^^^^^^
    返回用户信息列表

    :post:`POST` :code:`/api/users/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         用户信息id
    ------------------- ----------- ----------------------------
    first_name          str         名
    ------------------- ----------- ----------------------------
    email               str         邮箱
    =================== =========== ============================

read
^^^^^^
    返回指定id的用户信息

    :get:`GET` :code:`/api/users/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         用户信息id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         用户信息id
    ------------------- ----------- ----------------------------
    first_name          str         名
    ------------------- ----------- ----------------------------
    last_name           str         姓
    ------------------- ----------- ----------------------------
    email               str         邮箱
    ------------------- ----------- ----------------------------
    info                dict        额外信息
    =================== =========== ============================

    
    info字典

    =================== =========== ============================
    字段                类型        描述
    ------------------- ----------- ----------------------------
    phone               str         固定电话
    ------------------- ----------- ----------------------------
    mobile              str         移动电话
    ------------------- ----------- ----------------------------
    gender              int         性别
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^
    更新指定id的用户信息, 返回更新后的用户信息

    :patch:`PATCH` :code:`/api/users/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         用户信息id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         用户信息id
    ------------------- ----------- ----------------------------
    first_name          str         名
    ------------------- ----------- ----------------------------
    last_name           str         姓
    ------------------- ----------- ----------------------------
    email               str         邮箱
    ------------------- ----------- ----------------------------
    info                dict        额外信息
    =================== =========== ============================

    
    info字典

    =================== =========== ============================
    字段                类型        描述
    ------------------- ----------- ----------------------------
    phone               str         固定电话
    ------------------- ----------- ----------------------------
    mobile              str         移动电话
    ------------------- ----------- ----------------------------
    gender              int         性别
    =================== =========== ============================

部门
-------

list
^^^^^^^^
    返回部门列表

    :get:`GET` :code:`/api/departments/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================

    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

list(distribution)
^^^^^^^^^^^^^^^^^^^
    返回经销模块所需的部门信息字典

    :get:`GET` :code:`/api/departments/distribution/`

    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    Distribution        int         经销部门id
    ------------------- ----------- ----------------------------
    Process             int         工艺部门id
    ------------------- ----------- ----------------------------
    Procurement         int         采购部门id
    ------------------- ----------- ----------------------------
    Production          int         生产部门id
    =================== =========== ============================

read
^^^^^^
    返回指定id的部门信息

    :get:`GET` :code:`/api/departments/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    group               dict        系统组信息
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

    group字典

    =================== =========== ============================
    字段                类型        描述
    ------------------- ----------- ----------------------------
    name                str         系统组名
    =================== =========== ============================


partial_update
^^^^^^^^^^^^^^^^^
    更新指定id的部门信息, 返回更新后的部门信息

    :patch:`PATCH` :code:`/api/departments/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    group               dict        系统组信息
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

    group字典

    =================== =========== ============================
    字段                类型        描述
    ------------------- ----------- ----------------------------
    name                str         系统组名
    =================== =========== ============================

create
^^^^^^^^
    创建新的部门信息

    :post:`POST` :code:`/api/departments/`

    ====================== =========== ============================
    参数                    参数类型    描述
    ---------------------- ----------- ----------------------------
    group                   str         系统组名
    ---------------------- ----------- ----------------------------
    short_name              str         部门名缩写
    ---------------------- ----------- ----------------------------
    superior(Optional)      int         上级部门id
    ---------------------- ----------- ----------------------------
    admin(Optional)         int         部门管理员id
    ====================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    group               dict        系统组信息
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

    group字典

    =================== =========== ============================
    字段                类型        描述
    ------------------- ----------- ----------------------------
    name                str         系统组名
    =================== =========== ============================

工作令
---------

list
^^^^^^^
    返回工作令列表

    :get:`GET` :code:`/api/work_orders/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    pretty_sell_type    str         销售类型中文表达
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

read
^^^^^^
    返回指定id的工作令信息

    :get:`GET` :code:`/api/work_orders/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    pretty_sell_type    str         销售类型中文表达
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^
    更新指定id的工作令信息, 返回更新后的工作令信息

    :patch:`PATCH` :code:`/api/work_orders/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    pretty_sell_type    str         销售类型中文表达
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

create
^^^^^^^
    创建新的工作令信息

    :post:`POST` :code:`/api/work_orders/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    pretty_sell_type    str         销售类型中文表达
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

子工作令
---------

list
^^^^^^^
    返回子工作令列表

    :get:`GET` :code:`/api/sub_work_orders/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================

    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    ------------------- ----------- ----------------------------
    index               int         序号
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

read
^^^^^^^^^
    返回指定id的子工作令信息

    :get:`GET` :code:`/api/sub_work_orders/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    ------------------- ----------- ----------------------------
    index               int         序号
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^
    更新指定id的子工作令信息, 返回更新后的子工作令信息

    :patch:`PATCH` :code:`/api/sub_work_orders/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    ------------------- ----------- ----------------------------
    index               int         序号
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================
