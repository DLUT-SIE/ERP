.. _Core_API:

核心模块-API
==============
.. role:: badge
.. role:: code

个人信息
---------

list
^^^^^^
    返回个人信息列表

    :badge:`POST` :code:`/api/userinfo/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         个人信息id
    ------------------- ----------- ----------------------------
    first_name          str         名
    ------------------- ----------- ----------------------------
    last_name           str         姓
    ------------------- ----------- ----------------------------
    email               str         邮箱
    ------------------- ----------- ----------------------------
    phone               str         固定电话
    ------------------- ----------- ----------------------------
    mobile              str         移动电话
    ------------------- ----------- ----------------------------
    gender              int         性别
    =================== =========== ============================

read
^^^^^^
    返回指定id的个人信息

    :badge:`GET` :code:`/api/userinfo/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         个人信息id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         个人信息id
    ------------------- ----------- ----------------------------
    first_name          str         名
    ------------------- ----------- ----------------------------
    last_name           str         姓
    ------------------- ----------- ----------------------------
    email               str         邮箱
    ------------------- ----------- ----------------------------
    phone               str         固定电话
    ------------------- ----------- ----------------------------
    mobile              str         移动电话
    ------------------- ----------- ----------------------------
    gender              int         性别
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^
    更新指定id的个人信息, 返回更新后的个人信息

    :badge:`PATCH` :code:`/api/userinfo/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         个人信息id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         个人信息id
    ------------------- ----------- ----------------------------
    first_name          str         名
    ------------------- ----------- ----------------------------
    last_name           str         姓
    ------------------- ----------- ----------------------------
    email               str         邮箱
    ------------------- ----------- ----------------------------
    phone               str         固定电话
    ------------------- ----------- ----------------------------
    mobile              str         移动电话
    ------------------- ----------- ----------------------------
    gender              int         性别
    =================== =========== ============================


部门
-------

list
^^^^^^^^
    返回部门列表

    :badge:`GET` :code:`/api/department/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================

    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

read
^^^^^^
    返回指定id的部门信息

    :badge:`GET` :code:`/api/department/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^^
    更新指定id的部门信息, 返回更新后的部门信息

    :badge:`PATCH` :code:`/api/department/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================

create
^^^^^^^^
    创建新的部门信息

    :badge:`POST` :code:`/api/department/`

    ====================== =========== ============================
    参数                    参数类型    描述
    ---------------------- ----------- ----------------------------
    department_name         str         部门名
    ---------------------- ----------- ----------------------------
    deparment_short_name    str         部门名缩写
    ---------------------- ----------- ----------------------------
    superior(Optional)      int         上级部门id
    ---------------------- ----------- ----------------------------
    admin(Optional)         int         部门管理员id
    ====================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         部门id
    ------------------- ----------- ----------------------------
    superior            int         上级部门id
    ------------------- ----------- ----------------------------
    admin               int         部门管理员id
    ------------------- ----------- ----------------------------
    short_name          str         部门名称简写
    =================== =========== ============================


工作令
---------

list
^^^^^^^
    返回工作令列表

    :badge:`GET` :code:`/api/workorder/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

read
^^^^^^
    返回指定id的工作令信息

    :badge:`GET` :code:`/api/workorder/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^
    更新指定id的工作令信息, 返回更新后的工作令信息

    :badge:`PATCH` :code:`/api/workorder/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

create
^^^^^^^
    创建新的工作令信息

    :badge:`POST` :code:`/api/workorder/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         工作令id
    ------------------- ----------- ----------------------------
    uid                 str         编号
    ------------------- ----------- ----------------------------
    sell_type           int         销售类型
    ------------------- ----------- ----------------------------
    client              str         客户名称
    ------------------- ----------- ----------------------------
    project             str         项目名称
    ------------------- ----------- ----------------------------
    product             int         产品id
    ------------------- ----------- ----------------------------
    count               int         数量
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

子工作令
---------

list
^^^^^^^
    返回子工作令列表

    :badge:`GET` :code:`/api/subworkorder/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================

    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    ------------------- ----------- ----------------------------
    index               int         序号
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

read
^^^^^^^^^
    返回指定id的子工作令信息

    :badge:`GET` :code:`/api/subworkorder/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    ------------------- ----------- ----------------------------
    index               int         序号
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^
    更新指定id的子工作令信息, 返回更新后的子工作令信息

    :badge:`PATCH` :code:`/api/subworkorder/{id}/`

    =================== =========== ============================
    参数                参数类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    =================== =========== ============================


    =================== =========== ============================
    返回字段            返回类型    描述
    ------------------- ----------- ----------------------------
    id                  int         子工作令id
    ------------------- ----------- ----------------------------
    index               int         序号
    ------------------- ----------- ----------------------------
    finished            bool        已结束
    =================== =========== ============================
