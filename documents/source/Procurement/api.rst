.. _Procurement_API:

采购模块-API
==============
.. role:: get
.. role:: post
.. role:: patch
.. role:: delete
.. role:: code

材料代用申请单
-------------------

list
^^^^^^^
    返回材料代用申请单列表

    :get:`GET` :code:`/api/materialsub/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================

    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    production          str         产品名称
    =================== =========== ============================

read
^^^^^^^^^
    返回指定id的材料代用申请单

    :get:`GET` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    ------------------- ----------- ----------------------------
    applicant           str         申请人名称
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^
    更新指定id的材料代用申请单

    :patch:`PATCH` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    =================== =========== ============================

create
^^^^^^^^^
    创建新的材料代用申请单

    :post:`POST` :code:`/api/materialsub/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    ------------------- ----------- ----------------------------
    applicant           str         申请人名称
    =================== =========== ============================

材料代用申请单明细
----------------------

partial_update
^^^^^^^^^^^^^^^^^
    更新指定id的材料代用申请单明细

    :patch:`PATCH` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    part_figure_code    str         部件图号
    ------------------- ----------- ----------------------------
    part_ticket_code    str         零件图号或票号
    ------------------- ----------- ----------------------------
    old_name            str         原材料名称
    ------------------- ----------- ----------------------------
    old_standard        str         原材料标准
    ------------------- ----------- ----------------------------
    old_size            str         原材料规格和尺寸
    ------------------- ----------- ----------------------------
    new_name            str         拟用材料名称
    ------------------- ----------- ----------------------------
    new_standard        str         拟用材料标准
    ------------------- ----------- ----------------------------
    new_size            str         拟用材料规格和尺寸
    =================== =========== ============================

create
^^^^^^^^^
    创建新的材料代用申请单明细

    :post:`POST` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    sub_apply           str         材料代用申请单
    ------------------- ----------- ----------------------------
    part_figure_code    str         部件图号
    ------------------- ----------- ----------------------------
    part_ticket_code    str         零件图号或票号
    ------------------- ----------- ----------------------------
    old_name            str         原材料名称
    ------------------- ----------- ----------------------------
    old_standard        str         原材料标准
    ------------------- ----------- ----------------------------
    old_size            str         原材料规格和尺寸
    ------------------- ----------- ----------------------------
    new_name            str         拟用材料名称
    ------------------- ----------- ----------------------------
    new_standard        str         拟用材料标准
    ------------------- ----------- ----------------------------
    new_size            str         拟用材料规格和尺寸
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    id                  int         材料代用申请单id
    ------------------- ----------- ----------------------------
    sub_apply           str         材料代用申请单
    ------------------- ----------- ----------------------------
    part_figure_code    str         部件图号
    ------------------- ----------- ----------------------------
    part_ticket_code    str         零件图号或票号
    ------------------- ----------- ----------------------------
    old_name            str         原材料名称
    ------------------- ----------- ----------------------------
    old_standard        str         原材料标准
    ------------------- ----------- ----------------------------
    old_size            str         原材料规格和尺寸
    ------------------- ----------- ----------------------------
    new_name            str         拟用材料名称
    ------------------- ----------- ----------------------------
    new_standard        str         拟用材料标准
    ------------------- ----------- ----------------------------
    new_size            str         拟用材料规格和尺寸
    =================== =========== ============================


采购单
---------------------

create
^^^^^^^^^^^^^^^^^^^^^
    创建新的采购单

    :post:`POST` :code:`/api/purchase_orders/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================
    
    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         采购单编号
    ------------------- ----------- ----------------------------
    work_order          str         工作令编号
    ------------------- ----------- ----------------------------
    create_date         str         创建日期
    ------------------- ----------- ----------------------------
    status              int         采购单状态
    ------------------- ----------- ----------------------------
    lister              str         编制人
    ------------------- ----------- ----------------------------
    list_date           str         编制日期
    ------------------- ----------- ----------------------------
    chief               str         外采科长
    ------------------- ----------- ----------------------------
    audit_date          str         审核日期
    ------------------- ----------- ----------------------------
    approver            str         批准人
    ------------------- ----------- ----------------------------
    approve_time        str         批准日期
    ------------------- ----------- ----------------------------
    tech_requirement    str         工艺需求
    ------------------- ----------- ----------------------------
    category            int         标单类型
    ------------------- ----------- ----------------------------
    revised_number      str         修订号
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^^^^^^^^
    更新采购订单

    :patch:`PATCH` :code:`/api/purchase_orders/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================
    
    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         采购单编号
    ------------------- ----------- ----------------------------
    work_order          str         工作令编号
    ------------------- ----------- ----------------------------
    create_date         str         创建日期
    ------------------- ----------- ----------------------------
    status              int         采购单状态
    ------------------- ----------- ----------------------------
    lister              str         编制人
    ------------------- ----------- ----------------------------
    list_date           str         编制日期
    ------------------- ----------- ----------------------------
    chief               str         外采科长
    ------------------- ----------- ----------------------------
    audit_date          str         审核日期
    ------------------- ----------- ----------------------------
    approver            str         批准人
    ------------------- ----------- ----------------------------
    approve_time        str         批准日期
    ------------------- ----------- ----------------------------
    tech_requirement    str         工艺需求
    ------------------- ----------- ----------------------------
    category            int         标单类型
    ------------------- ----------- ----------------------------
    revised_number      str         修订号
    =================== =========== ============================

list
^^^^^^^^^^^^^^^^^^^^^^^^
    查询所有采购单的摘要信息

    :get:`GET` :code:`/api/purchase_orders/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================
    
    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         采购单编号
    ------------------- ----------- ----------------------------
    create_date         str         创建日期
    ------------------- ----------- ----------------------------
    status              int         采购单状态
    ------------------- ----------- ----------------------------
    category            int         标单类型
    ------------------- ----------- ----------------------------
    revised_number      str         修订号
    =================== =========== ============================

read
^^^^^^^^^^^^^^^^^^^^^^^^
    查询某个采购单的详细信息

    :get:`GET` :code:`/api/purchase_orders/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================

    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         采购单编号
    ------------------- ----------- ----------------------------
    work_order          str         工作令编号
    ------------------- ----------- ----------------------------
    create_date         str         创建日期
    ------------------- ----------- ----------------------------
    status              int         采购单状态
    ------------------- ----------- ----------------------------
    lister              str         编制人
    ------------------- ----------- ----------------------------
    list_date           str         编制日期
    ------------------- ----------- ----------------------------
    chief               str         外采科长
    ------------------- ----------- ----------------------------
    audit_date          str         审核日期
    ------------------- ----------- ----------------------------
    approver            str         批准人
    ------------------- ----------- ----------------------------
    approve_time        str         批准日期
    ------------------- ----------- ----------------------------
    tech_requirement    str         工艺需求
    ------------------- ----------- ----------------------------
    category            int         标单类型
    ------------------- ----------- ----------------------------
    revised_number      str         修订号
    =================== =========== ============================


delete
^^^^^^^^^^^^^^^^^^^^^^^^^^
    删除某个采购单

    :delete:`DELETE` :code:`/api/purchase_orders/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================

    =================== =========== ============================
    返回字段             返回类型     描述
    =================== =========== ============================


采购物料
---------------------

create
^^^^^^^^^^^^^^^^^^^^^
    创建新的采购物料

    :post:`POST` :code:`/api/procurement_materials/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    process_material    str         工艺物料
    ------------------- ----------- ----------------------------
    merged_material     str         合并后物料
    ------------------- ----------- ----------------------------
    purchase_order      str         采购单编号
    ------------------- ----------- ----------------------------
    sub_order           str         子工作令
    ------------------- ----------- ----------------------------
    inventory_type      int         明细类型
    ------------------- ----------- ----------------------------
    batch_number        str         炉批号
    ------------------- ----------- ----------------------------
    material_number     str         材质编号
    ------------------- ----------- ----------------------------
    delivery_dt         str         交货日期
    ------------------- ----------- ----------------------------
    category            str         材料分类
    =================== =========== ============================
    
    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    process_material    str         工艺物料
    ------------------- ----------- ----------------------------
    merged_material     str         合并后物料
    ------------------- ----------- ----------------------------
    purchase_order      str         采购单编号
    ------------------- ----------- ----------------------------
    sub_order           str         子工作令
    ------------------- ----------- ----------------------------
    inventory_type      int         明细类型
    ------------------- ----------- ----------------------------
    batch_number        str         炉批号
    ------------------- ----------- ----------------------------
    material_number     str         材质编号
    ------------------- ----------- ----------------------------
    delivery_dt         str         交货日期
    ------------------- ----------- ----------------------------
    category            str         材料分类
    ------------------- ----------- ----------------------------
    finished            bool     是否结束
    ------------------- ----------- ----------------------------
    add_to_detail       bool     是否已加入物料汇总
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^^^^^^^^
    更新采购物料

    :patch:`PATCH` :code:`/api/procurement_materials/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================
    
    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    process_material    str         工艺物料
    ------------------- ----------- ----------------------------
    merged_material     str         合并后物料
    ------------------- ----------- ----------------------------
    purchase_order      str         采购单编号
    ------------------- ----------- ----------------------------
    sub_order           str         子工作令
    ------------------- ----------- ----------------------------
    inventory_type      int         明细类型
    ------------------- ----------- ----------------------------
    batch_number        str         炉批号
    ------------------- ----------- ----------------------------
    material_number     str         材质编号
    ------------------- ----------- ----------------------------
    delivery_dt         str         交货日期
    ------------------- ----------- ----------------------------
    category            str         材料分类
    ------------------- ----------- ----------------------------
    finished            bool     是否结束
    ------------------- ----------- ----------------------------
    add_to_detail       bool     是否已加入物料汇总
    =================== =========== ============================

list
^^^^^^^^^^^^^^^^^^^^^^^^
    查询所有采购物料的摘要信息

    :get:`GET` :code:`/api/procurement_materials/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================
    
    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    material_number     str         材质编号
    ------------------- ----------- ----------------------------
    purchase_order      str         采购单号
    ------------------- ----------- ----------------------------
    category            str         材料分类
    ------------------- ----------- ----------------------------
    finished            bool     是否结束
    ------------------- ----------- ----------------------------
    add_to_detail       bool     是否已加入物料汇总
    =================== =========== ============================

read
^^^^^^^^^^^^^^^^^^^^^^^^
    查询某采购物料的详细信息

    :get:`GET` :code:`/api/procurement_materials/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================

    
    =================== =========== ============================
    返回字段             返回类型     描述
    ------------------- ----------- ----------------------------
    process_material    str         工艺物料
    ------------------- ----------- ----------------------------
    merged_material     str         合并后物料
    ------------------- ----------- ----------------------------
    purchase_order      str         采购单编号
    ------------------- ----------- ----------------------------
    sub_order           str         子工作令
    ------------------- ----------- ----------------------------
    inventory_type      int         明细类型
    ------------------- ----------- ----------------------------
    batch_number        str         炉批号
    ------------------- ----------- ----------------------------
    material_number     str         材质编号
    ------------------- ----------- ----------------------------
    delivery_dt         str         交货日期
    ------------------- ----------- ----------------------------
    category            str         材料分类
    ------------------- ----------- ----------------------------
    finished            bool     是否结束
    ------------------- ----------- ----------------------------
    add_to_detail       bool     是否已加入物料汇总
    =================== =========== ============================

delete
^^^^^^^^^^^^^^^^^^^^^^^^^^
    删除某个采购单

    :delete:`DELETE` :code:`/api/procurement_materials/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    =================== =========== ============================

    =================== =========== ============================
    返回字段             返回类型     描述
    =================== =========== ============================