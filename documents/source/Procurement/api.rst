.. _Procurement_API:

采购模块-API
==============
.. role:: get
.. role:: post
.. role:: patch
.. role:: delete
.. role:: code

材料代用申请单
-------------------

list
^^^^^^^
    返回材料代用申请单列表

    :get:`GET` :code:`/api/materialsub/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    page(Optional)      int         指定页数, 默认值: 1
    ------------------- ----------- ----------------------------
    limit(Optional)     int         每页数量
    =================== =========== ============================

    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    production          str         产品名称
    =================== =========== ============================

read
^^^^^^^^^
    返回指定id的材料代用申请单

    :get:`GET` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    ------------------- ----------- ----------------------------
    applicant           str         申请人名称
    =================== =========== ============================

partial_update
^^^^^^^^^^^^^^^^
    更新指定id的材料代用申请单

    :patch:`PATCH` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    =================== =========== ============================

create
^^^^^^^^^
    创建新的材料代用申请单

    :post:`POST` :code:`/api/materialsub/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    ------------------- ----------- ----------------------------
    uid                 str         单据编号
    ------------------- ----------- ----------------------------
    figure_code         str         图号
    ------------------- ----------- ----------------------------
    work_order          str         工作令
    ------------------- ----------- ----------------------------
    production          str         产品名称
    ------------------- ----------- ----------------------------
    reason              str         代用原因和理由
    ------------------- ----------- ----------------------------
    applicant           str         申请人名称
    =================== =========== ============================

材料代用申请单明细
----------------------

partial_update
^^^^^^^^^^^^^^^^^
    更新指定id的材料代用申请单明细

    :patch:`PATCH` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    id                  int         产品的id
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    part_figure_code    str         部件图号
    ------------------- ----------- ----------------------------
    part_ticket_code    str         零件图号或票号
    ------------------- ----------- ----------------------------
    old_name            str         原材料名称
    ------------------- ----------- ----------------------------
    old_standard        str         原材料标准
    ------------------- ----------- ----------------------------
    old_size            str         原材料规格和尺寸
    ------------------- ----------- ----------------------------
    new_name            str         拟用材料名称
    ------------------- ----------- ----------------------------
    new_standard        str         拟用材料标准
    ------------------- ----------- ----------------------------
    new_size            str         拟用材料规格和尺寸
    =================== =========== ============================

create
^^^^^^^^^
    创建新的材料代用申请单明细

    :post:`POST` :code:`/api/materialsub/{id}/`

    =================== =========== ============================
    参数                 参数类型     描述
    ------------------- ----------- ----------------------------
    sub_apply           str         材料代用申请单
    ------------------- ----------- ----------------------------
    part_figure_code    str         部件图号
    ------------------- ----------- ----------------------------
    part_ticket_code    str         零件图号或票号
    ------------------- ----------- ----------------------------
    old_name            str         原材料名称
    ------------------- ----------- ----------------------------
    old_standard        str         原材料标准
    ------------------- ----------- ----------------------------
    old_size            str         原材料规格和尺寸
    ------------------- ----------- ----------------------------
    new_name            str         拟用材料名称
    ------------------- ----------- ----------------------------
    new_standard        str         拟用材料标准
    ------------------- ----------- ----------------------------
    new_size            str         拟用材料规格和尺寸
    =================== =========== ============================


    =================== =========== ============================
    返回字段              返回类型     描述
    ------------------- ----------- ----------------------------
    id                  int         材料代用申请单id
    ------------------- ----------- ----------------------------
    sub_apply           str         材料代用申请单
    ------------------- ----------- ----------------------------
    part_figure_code    str         部件图号
    ------------------- ----------- ----------------------------
    part_ticket_code    str         零件图号或票号
    ------------------- ----------- ----------------------------
    old_name            str         原材料名称
    ------------------- ----------- ----------------------------
    old_standard        str         原材料标准
    ------------------- ----------- ----------------------------
    old_size            str         原材料规格和尺寸
    ------------------- ----------- ----------------------------
    new_name            str         拟用材料名称
    ------------------- ----------- ----------------------------
    new_standard        str         拟用材料标准
    ------------------- ----------- ----------------------------
    new_size            str         拟用材料规格和尺寸
    =================== =========== ============================
